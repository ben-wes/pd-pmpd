#N canvas 717 47 693 844 10;
#X msg 30 72 reset;
#X obj 30 770 dac~;
#X obj 225 706 osc~ 444;
#X text 70 72 clear everything;
#X msg 181 529 setD \$1 \$2;
#X msg 108 529 setK \$1 \$2;
#X msg 103 498 setM \$1 \$2;
#X msg 93 379 outSpeed \$1 \$2 \$3;
#X msg 169 680 bang;
#X msg 64 166 NLlink \$1 \$2 \$3 \$4 \$5 \$6 \$7 \$8;
#X text 19 36 all these messages need to be sent only once to create the structure of a physical model:;
#X text 256 165 like the link message \, but with extra arguments :;
#X text 277 180 \$5 is the exponent for the non-linear rigidity;
#X text 277 194 \$6 is the length of the link;
#X text 277 208 \$7 and \$8 are the min and max length of the link;
#X text 98 313 the same inlet can be used to move several masses and send forces to them through multiple inForce and inPos messages for this inlet, f 90;
#X text 89 261 you can send many forces to a single mass \, the resulting force will be the sum of all forces, f 92;
#X text 113 398 the output of an outlet is the sum of the contributions of all out* messages, f 76;
#X text 93 422 these messages interact with the simulation in real time:;
#X text 173 465 send force \$2 to mass \$1;
#X text 203 679 print the current state of the model in the console;
#X text 281 705 interaction with the simulation at audio rate;
#X text 163 6 pmpd~ : 1d particle-based physical modeling for audio synthesis, f 66;
#X msg 74 242 inForce \$1 \$2 \$3;
#X text 184 241 signal on inlet \$1 sends force to mass \$2 with amplitude \$3;
#X msg 79 294 inPos \$1 \$2 \$3;
#X text 177 288 signal on inlet \$1 controls position of mass \$2 with amplitude \$3, f 41;
#X text 185 349 connect the position of mass \$2 to outlet \$1 with amplitude \$3, f 62;
#X msg 83 350 outPos \$1 \$2 \$3;
#X text 205 378 connect the velocity of mass \$2 to outlet \$1 with amplitude \$3, f 62;
#X text 157 441 change the position \$2 of a fixed mass \$1;
#X text 113 96 create a mass with arguments : weight of the mass (\$1) \, initial position (\$2). A mass with weight 0 will not move., f 65;
#X msg 124 603 setNLD \$1 \$2;
#X msg 130 625 setNLL \$1 \$2;
#X msg 216 625 setNLLMin \$1 \$2;
#X msg 321 625 setNLLMax \$1 \$2;
#X msg 121 581 setNLKPow \$1 \$2;
#X msg 116 559 setNLK \$1 \$2 (\$3);
#X msg 134 647 setNLLCurrent \$1 (\$2);
#X text 227 558 change NLlink settings: rigidity and (optional) rigidity exponent, f 65;
#X text 272 643 mix between set length and current length (0..1) (defaults to 1 if no second argument given), f 49;
#X text 421 625 change length \, min length and max length;
#X text 205 603 change NLlink damping;
#X text 219 580 change rigidity exponent (similar to third argument above);
#X text 252 529 change link settings: rigidity \, damping;
#X text 173 497 change weight \$2 of mass \$1;
#X msg 93 442 pos \$1 \$2;
#X msg 98 465 force \$1 \$2;
#X msg 52 135 link \$1 \$2 \$3 \$4;
#X msg 41 103 mass \$1 \$2;
#X text 161 135 connect two masses (\$1 and \$2) with link rigidity \$3 and damping \$4, f 68;
#X text 98 731 arg1 : number of audio inlets (default: 1);
#X text 98 745 arg2 : number of audio outlets (default: 1);
#X obj 30 732 pmpd~ 1 1;
#X text 98 762 arg3 : max. number of masses (default: 10000);
#X text 98 776 arg4 : max. number of links (default: 10000);
#X text 98 807 arg6 : max. number outlet assignments (default: equal to outlet count), f 70;
#X text 98 793 arg5 : max. number inlet assigments (default: equal to inlet count), f 67;
#X connect 0 0 53 0;
#X connect 2 0 53 0;
#X connect 5 0 53 0;
#X connect 6 0 53 0;
#X connect 7 0 53 0;
#X connect 8 0 53 0;
#X connect 9 0 53 0;
#X connect 23 0 53 0;
#X connect 25 0 53 0;
#X connect 28 0 53 0;
#X connect 32 0 53 0;
#X connect 33 0 53 0;
#X connect 36 0 53 0;
#X connect 37 0 53 0;
#X connect 38 0 53 0;
#X connect 46 0 53 0;
#X connect 47 0 53 0;
#X connect 48 0 53 0;
#X connect 49 0 53 0;
#X connect 53 0 1 0;
#X connect 53 0 1 1;
