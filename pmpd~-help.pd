#N canvas 625 105 701 752 10;
#X msg 103 243 inForce \$1 \$2 \$3;
#X msg 30 74 reset;
#X msg 44 100 mass \$1 \$2;
#X text 302 166 like the link message \, but with extra arguments :;
#X msg 160 371 outPos \$1 \$2 \$3;
#X msg 131 305 inPos \$1 \$2 \$3;
#X msg 179 411 outSpeed \$1 \$2 \$3;
#X obj 31 701 dac~;
#X msg 150 496 posX \$1 \$2;
#X msg 162 516 forceX \$1 \$2;
#X obj 186 627 osc~ 444;
#X msg 54 137 link \$1 \$2 \$3 \$4;
#X text 68 73 clear everything;
#X text 209 265 You can send many forces to a single mass \, the resulting force will be the sum of all forces;
#X text 117 662 arg1 : number of audio inlets (min 1);
#X text 117 676 arg2 : number of audio outlets (min 1);
#X msg 208 592 setD \$1 \$2;
#X msg 195 570 setK \$1 \$2;
#X msg 180 547 setM \$1 \$2;
#X obj 30 663 pmpd~ 1 1;
#X text 273 566 change masses and links settings;
#X msg 70 171 NLlink \$1 \$2 \$3 \$4 \$5 \$6 \$7 \$8;
#X text 121 95 create a mass with arguments : weight of the mass (\$1) \, initial position (\$2). A mass with weight 0 will not move.;
#X text 168 131 connect two masses (\$1 and \$2) with link rigidity \$3 and damping \$4, f 52;
#X text 323 196 \$6 is the length of the link;
#X text 323 181 \$5 is the exponent for the non-linear rigidity;
#X text 323 212 \$7 and \$8 are the min and max length of the link;
#X text 225 323 the same inlet can be used to move several masses and send forces to them through multiple inForce and inPos messages for this inlet;
#X text 209 242 signal on inlet \$1 sends force to mass \$2 with amplitude \$3;
#X text 226 299 signal on inlet \$1 controls the position of mass \$2 with amplitude \$3, f 51;
#X text 290 404 connect the velocity of mass \$2 to outlet \$1 with amplitude \$3, f 45;
#X text 147 477 these messages interact with the simulation in real time:;
#X text 19 38 all these messages need to be sent only once to create the structure of a physical model:;
#X text 220 495 change the position \$2 of a fixed mass \$1;
#X text 245 515 send force \$2 to mass \$1;
#X text 239 626 interaction with the simulation at audio rate;
#X text 117 691 arg3 : oversample factor (useful to run the simulation faster than audio rate);
#X text 261 364 connect the position of mass \$2 to outlet \$1 with amplitude \$3, f 44;
#X text 179 429 the output of an outlet is the sum of the contributions of all out* messages;
#X text 143 6 pmpd~ : 1d particle-based physical modeling for audio synthesis, f 64;
#X connect 0 0 19 0;
#X connect 1 0 19 0;
#X connect 2 0 19 0;
#X connect 4 0 19 0;
#X connect 5 0 19 0;
#X connect 6 0 19 0;
#X connect 8 0 19 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 16 0 19 0;
#X connect 17 0 19 0;
#X connect 18 0 19 0;
#X connect 19 0 7 0;
#X connect 19 0 7 1;
#X connect 21 0 19 0;
